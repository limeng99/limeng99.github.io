I"…	<p>åœ¨iOSå¼€å‘ä¸­ï¼ŒåŸ‹ç‚¹å¯ä»¥è§£å†³ä¸¤å¤§ç±»é—®é¢˜ï¼šä¸€æ˜¯äº†è§£ç”¨æˆ·ä½¿ç”¨Appçš„è¡Œä¸ºï¼ŒäºŒæ˜¯é™ä½åˆ†æçº¿ä¸Šé—®é¢˜çš„éš¾åº¦ã€‚ç›®å‰ï¼ŒiOSå¼€å‘ä¸­å¸¸è§çš„åŸ‹ç‚¹æ–¹å¼ï¼Œä¸»è¦åŒ…æ‹¬ä»£ç åŸ‹ç‚¹ã€å¯è§†åŒ–åŸ‹ç‚¹å’Œæ— åŸ‹ç‚¹è¿™ä¸‰ç§ã€‚</p>

<p>å…¶ä¸­ï¼Œå¯è§†åŒ–åŸ‹ç‚¹å’Œæ— åŸ‹ç‚¹ï¼Œéƒ½å±äºæ˜¯æ— ä¾µå…¥çš„åŸ‹ç‚¹æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒä»¬éƒ½ä¸éœ€è¦åœ¨å·¥ç¨‹ä»£ç ä¸­å†™å…¥åŸ‹ç‚¹ä»£ç ã€‚æ‰€ä»¥ï¼Œé‡‡ç”¨è¿™æ ·çš„æ— ä¾µå…¥åŸ‹ç‚¹æ–¹æ¡ˆï¼Œæ—¢å¯ä»¥åšåˆ°åŸ‹ç‚¹è¢«ç»Ÿä¸€ç»´æŠ¤ï¼Œåˆå¯ä»¥å®ç°å’Œå·¥ç¨‹ä»£ç çš„è§£è€¦ã€‚</p>

<p>æœ€å¸¸è§çš„ä¸‰ç§åŸ‹ç‚¹ç±»å‹æœ‰é¡µé¢è¿›å…¥æ¬¡æ•°ã€é¡µé¢åœç•™æ—¶é—´ã€ç‚¹å‡»äº‹ä»¶ã€‚å¯¹äºè¿™ä¸‰ç§å¸¸è§çš„æƒ…å†µï¼Œæˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡<code class="highlighter-rouge">runtime</code>çš„<code class="highlighter-rouge">method swizzling</code>æ¥æ’å…¥åŸ‹ç‚¹ä»£ç ï¼Œä»¥å®ç°æ— ä¾µå…¥çš„åŸ‹ç‚¹æ–¹æ³•ï¼Œå¯åˆ†ä¸‰æ­¥æ¥å¤„ç†ï¼šå®ç°æ›¿æ¢ã€ç”Ÿæˆå”¯ä¸€æ ‡è¯†ã€æ•°æ®ä¸ŠæŠ¥ã€‚</p>

<h4 id="é¡µé¢è¿›å…¥æ¬¡æ•°é¡µé¢åœç•™æ—¶é—´äº‹ä»¶">é¡µé¢è¿›å…¥æ¬¡æ•°ã€é¡µé¢åœç•™æ—¶é—´äº‹ä»¶</h4>

<p>é¡µé¢è¿›å…¥æ¬¡æ•°ã€é¡µé¢åœç•™æ—¶é—´éœ€è¦å¯¹<code class="highlighter-rouge">UIViewController</code>ç”Ÿå‘½å‘¨æœŸè¿›è¡ŒåŸ‹ç‚¹ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª<code class="highlighter-rouge">UIViewController</code>çš„<code class="highlighter-rouge">Category</code>ï¼Œé€šè¿‡<code class="highlighter-rouge">method swizzling</code>å°†åŸç”Ÿæ–¹æ³•æ›¿æ¢ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>+ (void)load
{
    // viewWillAppearæ–¹æ³•äº¤æ¢
    Method viewWillAppearOriginalMethod = class_getInstanceMethod([self class], @selector(viewWillAppear:));
    Method viewWillAppearSwizzledMethod = class_getInstanceMethod([self class], @selector(vi_viewWillAppear:));
    method_exchangeImplementations(viewWillAppearOriginalMethod, viewWillAppearSwizzledMethod);
    
    // viewDidDisappearæ–¹æ³•äº¤æ¢
    Method viewDidDisappearOriginalMethod = class_getInstanceMethod([self class], @selector(viewDidDisappear:));
    Method viewDidDisappearSwizzledMethod = class_getInstanceMethod([self class], @selector(vi_viewDidDisappear:));
    method_exchangeImplementations(viewDidDisappearOriginalMethod, viewDidDisappearSwizzledMethod);
}

- (void)hook_viewWillAppear:(BOOL)animated
{
    [self hook_viewWillAppear:animated];
    ...
}

- (void)vi_viewDidDisappear:(BOOL)animated
{
    [self vi_viewDidDisappear:animated];
    ...
}
</code></pre></div></div>

:ET